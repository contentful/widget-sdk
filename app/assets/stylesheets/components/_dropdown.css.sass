// Dropdown base
.dropdown-btn
  position: relative
  .ss-dropdown
    font-size: 8px
    //position: absolute
    //right: .2em
    float: right
.dropdown-toggle
  width: 100%
  position: relative
  color: $light-gray
  display: block
  text-decoration: none
  cursor: pointer
.dropdown-toggle:hover
  color: black
  @include box-shadow(0 .5em 1.5em rgba(255,255,255,0.6) inset)
.active .dropdown-toggle
  color: $dark-gray

// Dropdown Menu base and general modifiers
.dropdown-menu
  position: absolute
  right: 0
  top: 3.4em
  font-size: 1.1em
  line-height: 2.2em
  z-index: 1000
  min-width: 18em
  background: white
  background: rgba(255,255,255,0.96)
  border: .1em solid shade(#FFFFFF, 10)
  padding: .4em 0
  +box-shadow(0 2px 6px rgba(0,0,0,0.1))
  +rounded-corners(0,0,3px,3px)
  p
    padding: .4em 1.2em
  li
    padding: .4em 1.2em
    a
      display: block
    a:link,
    a:visited
      color: $medium-gray
    label
      display: block
      cursor: pointer
    &.separator
      height: auto
      background: inherit
      border-top: 1px solid $light-rule
    &.hint
      color: $light-gray
  li:hover
    cursor: pointer
    +blue-highlight
    a:link
      color: white
    
.dropdown-menu.top-caret,
.dropdown-menu.bottom-caret,
.dropdown-menu.left-caret,
.dropdown-menu.right-caret
  +border-radius(3px)

.dropdown-menu.top-caret,
.dropdown-menu.bottom-caret
  &.left-aligned
    right: auto
    left: 0
    &:before
      left: $caret-size + 1em
  &.right-aligned
    right: 0
    left: auto
    &:before
      right: $caret-size + 1em

.dropdown-menu.top-caret:before
  +caret
  content: "▴"
  top: - $caret-size - .2em
  +text-shadow(0px -2px 3px rgba(0,0,0,0.12))
  
.dropdown-menu.bottom-caret:before
  +caret
  content: "▾"
  bottom: - $caret-size - .2em
  +text-shadow(0px -2px 3px rgba(0,0,0,0.12)) 
  
.dropdown-menu.left-caret:before
  +caret
  content: "◃"
  left: - $caret-size - .2em
  +text-shadow(0px -2px 3px rgba(0,0,0,0.12))
  
.dropdown-menu.right-caret:before
  +caret
  content: "▹"
  right: - $caret-size - .2em
  +text-shadow(0px -2px 3px rgba(0,0,0,0.12))

// Tab-bar dropdown
$account-border-color: #d5d5d5

.account
  .dropdown-toggle,
  #intercom
    color: $dark-gray
    float: right
    line-height: 27px
    border: 1px solid transparent
    padding: 5px 10px 4px
    border-bottom: none
  .dropdown-toggle:hover,
  .active .dropdown-toggle
    background-color: $gray-background
    border: 1px solid $account-border-color
    border-bottom-color: $lightest-gray
    @include rounded-corners(3px,3px,0,0)

// Concrete project and user buttons
// TODO move to client
.account
  .project
    float: right
    width: 60%
    margin-right: -1px
    span
      font-size: 1.3em
      margin-right: .8em
    .dropdown-menu
      min-width: 100%
    .dropdown-toggle
      border-right: 1px solid $account-border-color
  .user
    float: right
    width: 25%
    img
      vertical-align: middle
      margin-top: -.4em
  .user.active 
    padding-bottom: .4em

  #intercom
    //line-height: 27px
    //padding: 5px 10px 4px
    //float: right
    padding-right: 0
    padding-left: 0
    em
      position: relative
      top: 1px
      display: block
      font-style: normal
      border: 2px solid $red
      color: black
      font-size: 12px
      +box-shadow(0 8px 16px rgba(255,255,255,0.6) inset)
      +gray-highlight
      text-align: center
      width: 25px
      height: 25px
      +border-radius(13px)
      background: $lightest-gray
      &:hover
        +box-shadow(0 8px 16px rgba(0,0,0,0.1) inset)
        background-color: white
      span
        position: relative
        top: -3px

    width: 15%
    display: block

