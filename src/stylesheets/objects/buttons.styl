/*
Buttons

Styleguide 4.0
*/
.transparent-button-layer
  background-color: transparent
  position: absolute
  $layer('buttonOverlay')
  margin: 0 !important

@import './buttons-deprecated.styl'


$button-reset()
  color: inherit;
  font: inherit;
  font-size: inherit
  line-height: normal;
  vertical-align: baseline
  padding: 0
  margin: 0
  border: 0
  background: none
  overflow: visible;
  user-select: none
  cursor: pointer
  &::-moz-focus-inner
    border: 0
    padding: 0


$cfnext-button($color, $shade, $border = false)
  $cfnext-button-layout()
  $cfnext-button-colors($color, $shade, $border)

$cfnext-button-layout()
  padding: 0.6rem 1.5rem
  cursor: pointer
  text-align: center
  font-size: 0.9rem
  font-weight: bold
  white-space: nowrap
  border: none
  border-radius: 2px

$cfnext-button-colors($color, $shade = false)
  color: white
  background: $color

  &, &:hover, &:active
    outline: 0

  if ($shade)
    &:hover, &:active, &.active
      background-image: linear-gradient(to bottom, $color, $shade)

  &:hover
    box-shadow: 0px 1px 2px 0px hsla(black, 0.15);
  &:active, &.active
    box-shadow: inset 0px 1px 3px 0px hsla(black, 0.29);

  &:disabled, &[aria-disabled=true]
    opacity: 0.4
    background: $color
    box-shadow: none

$cfnext-button-large()
  font-size: 1.15rem
  padding: 1rem 2.5rem

/*
Action/Secondary Button

This button should be used for actions which are important, but not necessarily
the most important action in the current view

Markup:
button.cfnext-btn-action{{modifier_class}} Action
button.cfnext-btn-action{{modifier_class}}.pseudo-class-hover Action
button.cfnext-btn-action{{modifier_class}}.active Action
button.cfnext-btn-action{{modifier_class}}(disabled) Action

--large - Large variation

Styleguide 4.1
*/

$btn-action()
  $cfnext-button($cfnext-blue, hsl(200, 76%, 46%))

.cfnext-btn-action,
.cfnext-btn-action--large
  $btn-action()

.cfnext-btn-action--large
  $cfnext-button-large()

/*
Primary Action Button

Used for the most important action in a given context

Markup:
button.cfnext-btn-primary-action{{modifier_class}} Action
button.cfnext-btn-primary-action{{modifier_class}}.pseudo-class-hover Action
button.cfnext-btn-primary-action{{modifier_class}}.active Action
button.cfnext-btn-primary-action{{modifier_class}}(disabled) Action

--large - Large variation

Styleguide 4.2
*/
.cfnext-btn-primary-action,
.cfnext-btn-primary-action--large
  $cfnext-button($cfnext-green, hsl(160, 86%, 38%))

.cfnext-btn-primary-action--large
  $cfnext-button-large()

/*
Secondary Action Button

Used for actions that should complement primary actions or visually less
important actions

Markup:
button.cfnext-btn-secondary-action{{modifier_class}} Action
button.cfnext-btn-secondary-action{{modifier_class}}.pseudo-class-hover Action
button.cfnext-btn-secondary-action{{modifier_class}}.active Action
button.cfnext-btn-secondary-action{{modifier_class}}(disabled) Action

--large - Large variation

Styleguide 4.3
*/
$secondary-button-color = hsl(213, 5%, 45%)
$secondary-button-bg = hsl(0, 0%, 93%)
.cfnext-btn-secondary-action,
.cfnext-btn-secondary-action--large
  $cfnext-button(hsl(0, 0%, 93%), hsl(0, 0%, 88%))
  color: $secondary-button-color
  border: 1px solid $cfnext-gray

  &:hover
    background-image: linear-gradient(to bottom, hsla(white, 0.10) 0%, hsla(black, 0.10))

  a&:hover, a&:link, a&:visited
    color: $secondary-button-color

  > cf-icon[name="plus"]
    circle
      fill: $secondary-button-color
    path
      stroke: $secondary-button-bg

.cfnext-btn-secondary-action
  // This button has a border and is therefore one pixel larger if the
  // padding is not adjusted
  padding: calc(0.6rem - 1px) calc(1.5rem - 1px)

.cfnext-btn-secondary-action--large
  $cfnext-button-large()
  padding: calc(1rem - 1px) calc(2.5rem - 1px)

/**
Caution button

Markup:
button.cfnext-btn-caution Be Careful!
button.cfnext-btn-caution.pseudo-class-hover Be Careful!
button.cfnext-btn-caution.active Be Careful!
button.cfnext-btn-caution(disabled) Be Careful!

Styleguide 4.4
*/
.cfnext-btn-caution
  $cfnext-button($cfnext-red, hsl(353, 61%, 45%))


/**
Plain Action Button

Markup:
button.cfnext-btn-primary-action
  | One
button.cfnext-btn-plain
  | Two
button.cfnext-btn-action
  | Three

Styleguide 4.5
*/
$cfnext-button-plain()
  background: none
  $cfnext-button-layout()
  color: $cfnext-blue;
  outline: 0

.cfnext-btn-plain
  $cfnext-button-plain()


/**
Inline button

Markup:
p
  | Click here
  button.cfnext-btn-inline Action Button
  | More text

Styleguide 4.6
*/
$cfnext-btn-inline()
  font-size: inherit
  display: inline-block;
  vertical-align: baseline
  padding: 0.1em 0.3em
  margin: 0
  border: 0
  background: none
  cursor: pointer
  color: $cfnext-blue

.cfnext-btn-inline
  $cfnext-btn-inline()

/*
Buttons with icons

Markup:
p
  button.cfnext-btn-primary-action
    cf-icon.btn-icon
      img(src="/app/svg/plus.svg")
    | Action
  button.cfnext-btn-action
    cf-icon.btn-icon
      img(src="/app/svg/plus.svg")
    | Action
p
  button.cfnext-btn-action--large-popout-icon
    cf-icon
      img(src="/app/svg/new-ct.svg")
    | Action

Styleguide 4.7
*/

$btn-icon()
  display: inline-block
  float: left
  margin-right: 0.55em
  margin-left: -0.7em
  > svg
    display: block

.btn-icon
  $btn-icon()


$cfnext-button--large-popout-icon()
  $cfnext-button-large()
  padding-left: 5.0rem
  cf-icon
    position: absolute
    left: 1.0rem
    top: -0.5rem

.cfnext-btn-action--large-popout-icon
  position: relative
  $btn-action()
  $cfnext-button--large-popout-icon()

/*
Buttons with dropdowns

This is does not use inline SVGs yet so the color of the icons is off.

Markup:
button.cfnext-btn-secondary-action.cfnext-btn--dropdown
  cf-icon.btn-dropdown-icon
    img(src="/app/svg/dd-arrow-down.svg")
  | More
button.cfnext-btn-action.cfnext-btn--dropdown
  cf-icon.btn-dropdown-icon
    img(src="/app/svg/dd-arrow-down.svg")
  | More
button.cfnext-btn-primary-action.cfnext-btn--dropdown
  cf-icon.btn-dropdown-icon--up
    img(src="/app/svg/dd-arrow-down.svg")
  | More

Styleguide 4.8
*/
.btn-dropdown-icon,
.btn-dropdown-icon--up
  float: right
  margin-left: 0.9em
  margin-right: -0.6em

.btn-dropdown-icon--up
  transform: rotate(180deg)

.cfnext-btn-secondary-action cf-icon path
  fill: $secondary-button-color
