.search-field.video-dialog__field(
  cf-search="videoSearch.searchTerm"
  placeholder="Type search term"
  search-type-ahead="true")

.loading(ng-show="videoSearch.isSearching")

.video-widget-editor__warning(ng-show="errorMessage")
  i.fa.fa-exclamation-triangle
  .video-widget-warning__message
    p {{errorMessage}}

.video-dialog-results
  h2.video-dialog-results__notice(ng-if="videoSearch.searchFinished && !videoSearch.videos.length")
    | No videos match your search

  .video-dialog-results__results-container.endless-container(at-bottom="videoSearchController.loadMore()" threshold="0")
    .cf-video-search-result.video-dialog-result(
        ng-repeat="video in videoSearch.videos"
        ng-mouseover="handleMouseOver($event)"
        ng-mouseout="handleMouseOut($event)"
        ng-class="{selected: videoSearchResult.isResultSelected, hover: isMouseOver, playing: videoSearchResult.isPlaying}")

      .video-dialog-result__controls-bar(
        ng-hide="videoSearchResult.isPlayerLoading || (!videoSearchResult.isResultSelected && !isMouseOver)")
        span(class="fa-stack" ng-click="videoSearchResultController.selectVideo()")
          i(class="fa fa-circle-o fa-stack-2x")
          i(class="fa fa-check fa-stack-1x")
        i(class="fa fa-play" ng-click="videoSearchResultController.playVideo()" ng-hide="videoSearchResult.isPlaying")
        i(class="fa fa-pause" ng-click="videoSearchResultController.pauseVideo()" ng-show="videoSearchResult.isPlaying")

      .loading.video-dialog-result__loading(ng-show="videoSearchResult.isPlayerLoading")
        .video-dialog-result__loading-message Loading video

      img.video-dialog-result__thumbnail(ng-src="{{video.thumbnailUrl}}" ng-show="videoSearchResult.showPreview")
      .cf-video-player-embedded-placeholder

      cf-video-player.video-player.video-player--embedded.video-dialog-result__player(
        widget-player-directive='videoSearch.player.widgetPlayerDirective'
        ng-if="videoSearchResult.isPlayerEnabled"
        embedded="true"
        custom-attrs='videoSearch.player.customAttrsForPlayer(video)'
        ng-show="videoSearchResult.showPlayer"
        on-ready="videoSearchResultController.handlePlayerReady()"
        on-playback-finished="videoSearchResultController.setVideoNotPlaying()")

      .video-dialog-result-info
        div.video-dialog-result-info__title(title="{{video.name}}") {{video.name}}
        div.video-dialog-result-info__duration {{videoSearchResult.formattedDuration}}
