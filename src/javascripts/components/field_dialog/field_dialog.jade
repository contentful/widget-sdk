.modal-background(no-background-close)
  .modal-dialog.field-dialog(
    ng-form="fieldForm"
    cf-ui-tab
    ng-controller="FieldDialogController as fieldController")
    header.modal-dialog__header.field-dialog__header
      cf-icon(name="{{iconId}}")
      h1
        span.field-dialog__field-name
          | {{decoratedField.displayName}}
        span.field-dialog__field-type
          | {{fieldTypeLabel}}

      ul.field-dialog__tab-list(role="tablist")
        li(ui-tab="settings"
           ng-attr-aria-invalid="{{tab.invalid}}")
          | Settings
          i.fa.fa-exclamation-circle.field-dialog__tab-invalid
        li(ui-tab="validations"
           ng-attr-aria-invalid="{{tab.invalid}}")
          | Validations
          i.fa.fa-exclamation-circle.field-dialog__tab-invalid
        li(ui-tab="appearance"
           ng-attr-aria-invalid="{{tab.invalid}}")
          | Appearance
          i.fa.fa-exclamation-circle.field-dialog__tab-invalid

    div.modal-dialog__content.field-dialog__content

      div(ui-tabpanel="settings")
        include ./field_dialog_settings.jade

      div(ui-tabpanel="validations"
        ng-form="fieldValidationsForm"
        ng-controller="FieldDialogValidationsController")
        ul.validation-settings
          li(aria-label="This field is required")
            h2.validation-settings__header
              label.validation-settings__toggle
                span.validation-settings__toggle-input-wrapper
                  input(type="checkbox" ng-model="decoratedField.required")
                span This field is required

          li(ng-repeat="validation in validations"
             aria-label="{{validation.name}}")
            cf-validation-setting.u-bce


      div(ui-tabpanel="appearance")
        include ./field_dialog_appearance.jade

    .modal-dialog__controls
      button.cfnext-btn-primary-action(
        type="button" ng-click="dialog.save()"
        ng-disabled="!fieldForm.$valid")
        | Save
      button.cfnext-btn-plain(
        type="button" ng-click="dialog.cancel()")
        | Cancel
