.link-editor(
  ng-class="{" +
    "'link-editor--empty': !links.length," +
    "'link-editor--single': single," +
    "'link-editor--multiple': !single," +
    "'link-editor--cf-entity-link': !is('Asset', 'card')," +
    "'link-editor--cf-asset-card': is('Asset', 'card')" +
    "}")
  ol.link-editor__links(
  cf-ui-sortable ng-model="links")
    li.link-editor__link(ng-repeat="item in links")

      cf-entity-link(
        ng-if="is('Entry', 'link')"
        links-api="linksApi"
        link="item.link"
        draggable="!single")

      cf-entity-link(
        ng-if="is('Entry', 'card')"
        links-api="linksApi"
        link="item.link"
        show-details="true"
        draggable="!single")

      cf-entity-link(
        ng-if="is('Asset', 'link')"
        links-api="linksApi"
        link="item.link"
        draggable="!single")

      cf-asset-card(
        ng-if="is('Asset', 'card')"
        links-api="linksApi"
        link="item.link"
        as-thumb="!single"
        draggable="!single")

  .link-editor__actions(ng-if="!single || !links.length")
    button.cfnext-btn-action.cfnext-btn-link.link-editor__link-btn(ng-click="addNew()")
      | Create new {{ type.toLowerCase() }} and link

    button.cfnext-btn-action.cfnext-btn-link.link-editor__link-btn(ng-click="addExisting()")
      span(ng-if="single")
        | Add an existing {{ type.toLowerCase() }}
      span(ng-if="!single")
        | Add some existing {{ typePlural.toLowerCase() }}
