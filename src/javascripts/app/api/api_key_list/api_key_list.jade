react-component(name="app/api/ApiKeysHeader.es6")

react-component(
  name="components/shared/DocumentTitle.es6"
  props="{title: 'APIs'}"
)
.workbench-main(ng-if="apiKeys")
  //- Non empty state
  .workbench-main__content(
    ng-if="!empty"
    style="padding-top:0"
  )
    react-component(
      name="app/api/ApiKeysNavigation.es6"
      props="{ currentTab: 'cda-tokens' }"
    )
    react-component(
      name="app/api/api_key_list/ApiKeyList.es6"
      props="{ apiKeys: {{apiKeys}} }"
    )

  //- Empty state
  .workbench-main__content(
    ng-if="empty"
    style="padding-top:0"
  )
    react-component(
      name="app/api/ApiKeysNavigation.es6"
      props="{ currentTab: 'cda-tokens' }"
    )
    react-component(
      name="app/api/api_key_list/ApiKeyList.es6"
    )
    .cfnext-advice-box.api-key-list__advice
      .cfnext-advice-box__frame
        h1.cfnext-advice-box__title
          | Whoops, looks like you don't have any API keys
        .cfnext-advice-box__sub-title
          | Add your first key to get started delivering content.
        button.btn-action(ui-command="createApiKey")
          div
            cf-icon.btn-icon.inverted(name="plus")
            | Add API key

  //- Sidebar
  .workbench-main__sidebar
    .entity-sidebar
      h2.entity-sidebar__heading(ng-if="!empty && showCreateApiKey")
        | Add API keys
      div(ng-if="!empty")
        p(ng-if="!reachedLimit && legacy")
          | Your space is using {{apiKeys.length}} out of {{limit}} API Keys.
        p(ng-if="!reachedLimit && !legacy")
          | Your space is using {{usage}} <span ng-pluralize count="usage" when="{1: 'API Key', other: 'API Keys'}"></span>.
        p(ng-if="reachedLimit")
          | Your space is using <span class="api-key-list__reached-limit">{{apiKeys.length}} out of {{limit}}</span> API keys.&#32;
          span(ng-if="subscriptionState")
            | If you want to create additional keys, you need to either delete an existing one or&#32;
            | <a class="entity-sidebar__link" cf-sref="{{subscriptionState}}">upgrade your account</a>.
          span(ng-if="!subscriptionState")
            | If you want to create additional keys, you need to either delete an existing one or contact the owner of your organization to upgrade the account.
        button.btn-action.x--block(
          ui-command="createApiKey")
          div
            cf-icon.btn-icon.inverted(name="plus")
            | Add API Key

      h2.entity-sidebar__heading
        | Hint from our staff
      .staff-hint
        i.fa.fa-quote-left
        div.staff-hint__quote
          .staff-hint__content
            | Create separate API keys if you have multiple platforms you need to deliver content to.
          .staff-hint__author
            .staff-hint__author-photo.x--herve
            .staff-hint__author-name
              strong Herve Labas
              p Product Manager at Contentful

      h2.entity-sidebar__heading
        | Documentation
      .entity-sidebar__text-profile
        ul
          li
            | Learn more about the <cf-knowledge-base target="content_apis" text="four content APIs" inline-text="true"></cf-knowledge-base>.
          li
            | Read the <cf-knowledge-base target="delivery_api" text="reference docs for the content delivery API" inline-text="true"></cf-knowledge-base>.
