.workbench
  header.workbench-header(ng-if="!renderInline")
    .breadcrumbs-widget
      .breadcrumbs-container
        cf-icon.btn.btn__back(
          ng-click="referenceContext.close()"
          name="breadcrumbs-icon-back"
          role="button"
          data-test-id="breadcrumbs-back-btn")
    h1.workbench-header__title
      | Entries linked in <em>{{ referenceContext.field.name }}</em> ({{ data.linkCount }})
    .workbench-header__actions
       button.btn-secondary-action(
         ng-click="referenceContext.close()")
         | Close

  .workbench-main

    .workbench-main__content(ng-show="!data.loaded" style="padding-top: 0")
      .loading-box--stretched
        .loading-box__spinner
        .loading-box__message
          | Loading entries

    .workbench-main__content(ng-show="data.loaded" style="padding-top: 0")
      // Safari and Edge need a relative container for dropdowns to work:
      div(style="position: relative"
        ng-repeat="ctx in entityContexts track by ctx.key"
        data-entity-id="{{ctx.id}}")
        cf-bulk-entity-editor(
          entity-context="ctx"
          bulk-editor-context="editorContext"
          on-remove="onRemove"
        )

    .workbench-main__sidebar(ng-if="!renderInline")
      .entity-sidebar
        cf-create-entry-button(
          cf-context-menu-trigger
          data-test-id="add-entry-menu-trigger"
          content-types="actions.allowedCTs"
          suggested-content-type-id=""
          on-select="actions.addNewEntry"
          mode="large"
          text="Create new entry and link")
        .entity-sidebar__help-text
          | You can also&#32;
          a(
            data-test-id="add-existing-entry"
            ng-click="actions.addExistingEntries()")
            | link an existing entry
