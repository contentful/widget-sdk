header.workbench-header
  cf-breadcrumbs
  cf-icon.workbench-header__icon(name="page-settings")
  h1.workbench-header__title Webhooks ({{ webhooks.length || 0 }})

  .workbench-header__actions
    button.btn-action.add-entity(
      ng-show="webhooks.length < limit"
      ui-sref="spaces.detail.settings.webhooks.new")
      cf-icon.btn-icon.inverted(name="plus")
      | Add webhook
    .workbench-header__actions-text(ng-show="webhooks.length >= limit")
      | You can't create more than {{ limit }} webhooks.

.workbench-main.x--content
  .table
    .table__head
      table
        thead
          tr
            th.x--large-cell.cell-wh-name Webhook name
            th.x--large-cell.cell-url URL
            th.x--small-cell.cell-health % of successful calls
            th.x--small-cell.cell-http-basic Using HTTP Basic Auth?
            th.x--medium-cell Actions
    .table__body
      table
        tbody
          tr(ng-repeat="webhook in webhooks track by webhook.sys.id"
            ng-init="entityNavState = 'spaces.detail.settings.webhooks.detail({ webhookId: webhook.sys.id })'"
            ui-sref="{{ entityNavState }}")
            td.x--large-cell.cell-wh-name
              | {{ webhook.name }}
            td.x--large-cell.cell-url
              | {{ webhook.url }}
            td.x--small-cell.cell-health
              cf-webhook-health(webhook-id="webhook.sys.id")
            td.x--small-cell.cell-http-basic
              | {{ webhook.httpBasicUsername ? 'yes' : 'no' }}
            td.x--medium-cell.cell-actions
              a(ui-sref="{{ entityNavState }}") View details
          tr(ng-show="webhooks.length < 1")
            td(colspan="5")
              a No webhooks yet!
