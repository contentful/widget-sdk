#!/bin/bash

# Lint multiple JS files with ESLint
# We choose different configurations depending on the location of the file.
#
# The 'compact' format is used to parse the output for Vimâ€™s Syntastic plugin.

set -e
shopt -s globstar

export PATH="./node_modules/.bin/:${PATH}"

for file in "$@"; do
  if [[ "$file" = src/javascripts/**.es6.js ]]; then
    eslint \
      --format compact \
      --config .eslint.yml \
      "$file"
  elif [[ "$file" = src/javascripts/**.js ]]; then
    eslint \
      --format compact \
      --config .eslint.yml \
      "$file"
  else
    eslint \
      --format compact \
      "$file"
  fi
done
