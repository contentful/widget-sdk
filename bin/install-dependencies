#!/bin/bash

set -ev

# We ignore errors when installing dependencies required for testing
./bin/install-slimerjs || true

npm install --no-optional
git submodule update --init

pushd vendor/extensions/core-field-editors
  npm install --no-optional
popd

pushd vendor/ui-extensions-sdk
  npm install --no-optional
  # The path should be set in the Makefile. But we need to work around old
  # versions of Make installed on OSX.
  PATH="./node_modules/.bin/:${PATH}" make
popd
